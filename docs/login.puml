@startuml
title Аутентификация пользователя с устройства

actor Client
participant Server

Client -> Client: Ввод username и password
Client -> Client: Чтение сохранённых device_uuid из конфига

Client -> Server: POST /login {username, password, device_uuid}

Server -> Server: Поиск пользователя по username
Server -> Server: Проверка пароля
Server -> Server: Проверка, что device_uuid принадлежит user_uuid
Server -> Server: Генерация JWT {user_uuid, device_uuid, exp}

Server --> Client: JWT
@enduml
